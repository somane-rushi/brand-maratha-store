import{a as r,j as e}from"./index-f6D6TMGS.js";import{l as B,m as S,n as b,o as w,p as A,q as N}from"./api.endpoints-D7eIfK11.js";import{E as T}from"./Editer-DlJNIPt6.js";import{a as g}from"./axios.config-D8NC-S8h.js";import{h as x}from"./errorHelper-EbapN-iz.js";import{C as v,a as f}from"./CRow-C5aZ3uce.js";import{C as H,a as R}from"./CCardBody-DyHbCEEC.js";import{C as V}from"./CCardHeader-BkEnHaV2.js";import{C as q}from"./CFormSelect-BM6fWH_8.js";import{C}from"./CAlert-Ceafrkex.js";import"./index-BvccmHzl.js";import"./CButton-ByJ5g7iZ.js";import"./index.esm-B7prAHhm.js";import"./CFormControlWrapper-aXjT4m4y.js";import"./DefaultLayout-BE9qYLzL.js";import"./cil-user-Ddrdy7PS.js";const Y=()=>{const[i,l]=r.useState(""),[c,j]=r.useState("english"),[t,m]=r.useState(null),[o,p]=r.useState(""),[d,u]=r.useState(""),[h,_]=r.useState(null);r.useEffect(()=>{_({getBanner:c==="english"?A:N,postBanner:c==="english"?b:w,putBanner:c==="english"?B:S})},[c]),r.useEffect(()=>{if(o||d){const s=setTimeout(()=>{p(""),u("")},3e3);return()=>clearTimeout(s)}},[o,d]);const E=async()=>{var s,a;try{let n;t!=null&&t.id?n=await g.put(h.putBanner,{content:i},{params:{id:t.id}}):n=await g.post(h.postBanner,{content:i}),p((s=n.data)==null?void 0:s.message),m({...t,content:i,id:((a=n.data)==null?void 0:a.id)||(t==null?void 0:t.id)})}catch(n){console.log("trrme & condition error,",n),u(x(n))}},y=async()=>{var s;try{const a=await g.get(h.getBanner);a.status===200&&(m(a.data),l(((s=a.data)==null?void 0:s.content)||""),p(a.data.message))}catch(a){u(x(a))}};return e.jsx(v,{children:e.jsx(f,{xs:12,children:e.jsxs(H,{className:"mb-4",children:[e.jsx(V,{children:e.jsx("strong",{children:"Editer"})}),e.jsxs(R,{children:[e.jsx(f,{xs:12,md:4,lg:2,className:"mb-4",children:e.jsxs(q,{xs:4,"aria-label":"Default select example",defaultValue:"english",onChange:s=>{j(s.target.value),l(""),m(null)},children:[e.jsx("option",{value:"english",children:"English"}),e.jsx("option",{value:"marathi",children:"मराठी"})]})}),e.jsxs("div",{className:"mt-4",children:[o&&e.jsx(C,{color:"success",children:o}),d&&e.jsx(C,{color:"danger",children:d})]}),e.jsx(T,{policy:i,handlePolicy:E,viewPolicyHandler:y,viewPolicy:t,message:o,setPolicy:l})]})]})})})};export{Y as default};
