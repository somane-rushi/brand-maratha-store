import{m as S,o as D,a as l,j as e,C as B}from"./index-f6D6TMGS.js";import{a as f}from"./axios.config-D8NC-S8h.js";import{bh as k,T as p,r as E,bi as I}from"./api.endpoints-D7eIfK11.js";import{M as T}from"./Modal-Byr5KNe-.js";import{h as L}from"./errorHelper-EbapN-iz.js";import{C as M}from"./CAlert-Ceafrkex.js";import{a as $}from"./index.esm-B7prAHhm.js";import{C as g,a as d}from"./CRow-C5aZ3uce.js";import{C as A,a as R}from"./CCardBody-DyHbCEEC.js";import{C as z}from"./CImage-BZWQkl9m.js";import{C as b}from"./CButton-ByJ5g7iZ.js";import"./CModalHeader-fVen3JA5.js";import"./DefaultLayout-BE9qYLzL.js";import"./cil-user-Ddrdy7PS.js";import"./CModalTitle-AQ6XSAyd.js";const ee=()=>{const c=S(),{id:o}=D(),[t,j]=l.useState(null),[y,i]=l.useState(!0),[n,r]=l.useState(null),[C,m]=l.useState(!1),[w,N]=l.useState(null);l.useEffect(()=>{if(n){const s=setTimeout(()=>{r("")},3e3);return()=>clearTimeout(s)}},[n]),l.useEffect(()=>{if(!o){r("Invalid blog ID"),i(!1);return}(async()=>{i(!0),r("");try{const s=await f.get(`${k}/${o}`);j(s.data)}catch(s){r(L(s))}finally{i(!1)}})()},[o]);const v=s=>{N(s),m(!0)};async function _(){var s,u,x,h;try{await f.delete(`${I}/${w}`),c("/brand-details")}catch(a){r(((u=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:u.message)||a.message||((h=(x=a==null?void 0:a.response)==null?void 0:x.data)==null?void 0:h.error))}finally{m(!1)}}return y?e.jsx(B,{color:"primary",className:"d-block mx-auto my-5"}):n?e.jsx(M,{color:"danger",className:"text-center my-4",children:n}):e.jsxs($,{fluid:!0,className:"px-4 py-4",children:[e.jsx(g,{className:"justify-content-center",children:e.jsx(d,{xs:12,lg:10,children:e.jsxs(A,{className:"shadow-lg border-0",children:[e.jsxs("div",{className:"relative w-full h-[512px] overflow-hidden",style:{position:"relative",top:0,left:0},children:[e.jsx("img",{src:p+t.banner_image,alt:"Twamev Banner",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-black via-black/70 to-transparent z-10"}),e.jsx("div",{className:"flex items-center px-6 lg:px-12",style:{position:"absolute",top:"50%",left:"70px",transform:"translateY(-50%)"},children:e.jsxs("div",{className:"max-w-xl text-white space-y-4",children:[e.jsx("img",{src:E+t.brand_image,alt:"brand Logo",width:150,height:"auto",style:{filter:"drop-shadow(2px 2px 4px rgba(0,0,0,0.6))"}}),e.jsx("h2",{className:"text-3xl lg:text-4xl font-semibold leading-tight",children:t.title}),e.jsx("p",{className:"text-md lg:text-lg",children:t.subtitle})]})})]}),e.jsxs(R,{className:"p-4",children:[e.jsxs(g,{className:"align-items-center mb-3",children:[e.jsx(d,{md:3,className:"text-center",children:t.thumbnail_image&&e.jsx(z,{src:p+t.thumbnail_image,alt:"Thumbnail",className:"img-fluid rounded shadow-sm"})}),e.jsxs(d,{md:9,children:[e.jsxs("h5",{className:"mb-2",children:["By: ",t.author]}),e.jsxs("p",{className:"text-muted mb-0",children:[e.jsx("strong",{children:"Date: "}),new Date(t.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]})]})]}),e.jsx("hr",{}),e.jsx("div",{className:"blog-content p-3 bg-light rounded shadow-sm",style:{wordBreak:"break-word",whiteSpace:"normal"},children:e.jsx("div",{dangerouslySetInnerHTML:{__html:t.content}})}),e.jsxs("div",{className:"d-flex justify-content-end mt-4",children:[e.jsx(b,{type:"button",color:"success",onClick:()=>c(`/brand-details/update/${o}`),children:"Edit"}),e.jsx(b,{type:"button",color:"danger",style:{marginLeft:"10px"},onClick:()=>v(t.id),children:"Delete"})]})]})]})})}),e.jsx(T,{visible:C,onClose:()=>m(!1),onConfirm:_,title:"Confirm Delete",message:"Are you sure you want to delete this blog?"})]})};export{ee as default};
