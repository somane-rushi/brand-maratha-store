import{m as p,u,j as s,a as o,C as m}from"./index-f6D6TMGS.js";import{C,a as f}from"./CRow-C5aZ3uce.js";import{C as g,a as b}from"./CCardBody-DyHbCEEC.js";import{C as x}from"./CCardHeader-BkEnHaV2.js";import{C as h}from"./CButton-ByJ5g7iZ.js";import{C as y,a as w,b as j,c as a,d as T,e as l}from"./CTable-Bj0B-88c.js";import{a as B}from"./axios.config-D8NC-S8h.js";import{bh as k}from"./api.endpoints-D7eIfK11.js";import{h as v}from"./errorHelper-EbapN-iz.js";import{C as D}from"./CAlert-Ceafrkex.js";import"./index.esm-B7prAHhm.js";import"./DefaultLayout-BE9qYLzL.js";import"./cil-user-Ddrdy7PS.js";const L=({blogs:t})=>{const c=p(),{pathname:r}=u();return s.jsx(C,{children:s.jsx(f,{xs:12,children:s.jsxs(g,{className:"mb-4",children:[s.jsxs(x,{className:"d-flex justify-content-between align-items-center",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Blogs"})," ",s.jsx("small",{children:"list"})]}),s.jsx(h,{color:"primary",onClick:()=>c(r==="/brand-details"?"/brand-details/add":"/base/blog/add"),children:"ADD BLOG"})]}),s.jsx(b,{children:(t==null?void 0:t.length)>0?s.jsxs(y,{hover:!0,children:[s.jsx(w,{children:s.jsxs(j,{children:[s.jsx(a,{scope:"col",children:"Index"}),s.jsx(a,{scope:"col",children:"Title"}),s.jsx(a,{scope:"col",children:"Subtitle"}),s.jsx(a,{scope:"col",children:"Auther"}),s.jsx(a,{scope:"col",children:"Date"}),s.jsx(a,{scope:"col",children:"Action"})]})}),s.jsx(T,{children:t.map((e,i)=>s.jsx(o.Fragment,{children:s.jsxs(j,{children:[s.jsx(a,{scope:"row",children:i+1}),s.jsx(l,{children:(e==null?void 0:e.title)||"-"}),s.jsx(l,{children:(e==null?void 0:e.subtitle)||"-"}),s.jsx(l,{children:(e==null?void 0:e.author)||"-"}),s.jsx(l,{children:new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})||"-"}),s.jsx(l,{children:s.jsx("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:s.jsx(h,{type:"button",color:"success",size:"sm",style:{padding:"6px 10px"},onClick:()=>c(r==="/brand-details"?`/brand-details/${e.id}`:`/base/blog/${e.id}`),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18px",height:"auto",fill:"none",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",style:{marginBottom:"2px"},children:[s.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),s.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})})})]})},i))})]}):s.jsx(x,{children:s.jsx("strong",{children:"No blogs found!"})})})]})})})},O=()=>{const[t,c]=o.useState([]),[r,e]=o.useState(""),[i,d]=o.useState(!1);return o.useEffect(()=>{if(r){const n=setTimeout(()=>{e("")},3e3);return()=>clearTimeout(n)}},[r]),o.useEffect(()=>{(async()=>{d(!0),e("");try{const n=await B.get(k);c(n.data)}catch(n){e(v(n))}finally{d(!1)}})()},[]),i?s.jsx(m,{color:"primary",className:"d-block mx-auto my-5"}):r?s.jsx(D,{color:"danger",children:r}):s.jsx(s.Fragment,{children:s.jsx(L,{blogs:t})})};export{O as default};
