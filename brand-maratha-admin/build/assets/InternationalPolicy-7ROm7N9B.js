import{a as r,j as e}from"./index-f6D6TMGS.js";import{aD as B,aE as S,aF as b,aG as w,aH as H,aI as I}from"./api.endpoints-D7eIfK11.js";import{E as N}from"./Editer-DlJNIPt6.js";import{a as g}from"./axios.config-D8NC-S8h.js";import{h as x}from"./errorHelper-EbapN-iz.js";import{C as v,a as f}from"./CRow-C5aZ3uce.js";import{C as A,a as D}from"./CCardBody-DyHbCEEC.js";import{C as F}from"./CCardHeader-BkEnHaV2.js";import{C as P}from"./CFormSelect-BM6fWH_8.js";import{C}from"./CAlert-Ceafrkex.js";import"./index-BvccmHzl.js";import"./CButton-ByJ5g7iZ.js";import"./index.esm-B7prAHhm.js";import"./CFormControlWrapper-aXjT4m4y.js";import"./DefaultLayout-BE9qYLzL.js";import"./cil-user-Ddrdy7PS.js";const Y=()=>{const[o,d]=r.useState(""),[l,j]=r.useState("english"),[a,m]=r.useState(null),[n,p]=r.useState(""),[c,u]=r.useState(""),[h,E]=r.useState(null);r.useEffect(()=>{E({getBanner:l==="english"?H:I,postBanner:l==="english"?b:w,putBanner:l==="english"?B:S})},[l]),r.useEffect(()=>{if(n||c){const t=setTimeout(()=>{p(""),u("")},3e3);return()=>clearTimeout(t)}},[n,c]);const _=async()=>{var t,s;try{let i;a!=null&&a.id?i=await g.put(h.putBanner,{description:o},{params:{id:a.id}}):i=await g.post(h.postBanner,{description:o}),p((t=i==null?void 0:i.data)==null?void 0:t.message),m({...a,description:o,id:((s=i.data)==null?void 0:s.id)||(a==null?void 0:a.id)})}catch(i){u(x(i))}},y=async()=>{var t;try{const s=await g.get(h.getBanner);s.status===200&&(m(s.data),d(((t=s.data)==null?void 0:t.description)||""),p(s.data.message))}catch(s){u(x(s))}};return e.jsx(v,{children:e.jsx(f,{xs:12,children:e.jsxs(A,{className:"mb-4",children:[e.jsx(F,{children:e.jsx("strong",{children:"Editer"})}),e.jsxs(D,{children:[e.jsx(f,{xs:12,md:4,lg:2,className:"mb-4",children:e.jsxs(P,{xs:4,"aria-label":"Default select example",defaultValue:"english",onChange:t=>{j(t.target.value),d(""),m(null)},children:[e.jsx("option",{value:"english",children:"English"}),e.jsx("option",{value:"marathi",children:"मराठी"})]})}),e.jsxs("div",{className:"mt-4",children:[n&&e.jsx(C,{color:"success",children:n}),c&&e.jsx(C,{color:"danger",children:c})]}),e.jsx(N,{policy:o,handlePolicy:_,viewPolicyHandler:y,viewPolicy:a,message:n,setPolicy:d})]})]})})})};export{Y as default};
