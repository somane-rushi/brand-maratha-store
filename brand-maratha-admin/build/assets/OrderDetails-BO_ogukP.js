import{a as _,c as E,o as Dt,j as a,C as Lt}from"./index-f6D6TMGS.js";import{a as lt}from"./axios.config-D8NC-S8h.js";import{by as $t,bz as Ot}from"./api.endpoints-D7eIfK11.js";import{h as Rt}from"./errorHelper-EbapN-iz.js";import{C as zt}from"./CAlert-Ceafrkex.js";import{C as ut,a as C}from"./CRow-C5aZ3uce.js";import{C as pt,a as mt}from"./CCardBody-DyHbCEEC.js";import{C as yt}from"./CCardHeader-BkEnHaV2.js";import{C as et}from"./CButton-ByJ5g7iZ.js";import{C as Mt,a as Bt,b as Ft}from"./CModalHeader-fVen3JA5.js";import{C as Ht,a as Vt}from"./CModalTitle-AQ6XSAyd.js";import{C as Xt}from"./CForm-BElthXFv.js";import{C as O}from"./CFormControlWrapper-aXjT4m4y.js";import{C as R}from"./CFormInput-CzlD-ECf.js";import{o as Ut}from"./DefaultLayout-BE9qYLzL.js";import{C as Gt,a as qt,b as kt,c as at,d as Qt,e as ot}from"./CTable-Bj0B-88c.js";import"./index.esm-B7prAHhm.js";import"./cil-user-Ddrdy7PS.js";function jt(e){var t,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(s=jt(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function G(){for(var e,t,s=0,r="",i=arguments.length;s<i;s++)(e=arguments[s])&&(t=jt(e))&&(r&&(r+=" "),r+=t);return r}function Wt(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}Wt(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var rt=e=>typeof e=="number"&&!isNaN(e),q=e=>typeof e=="string",V=e=>typeof e=="function",Yt=e=>q(e)||rt(e),gt=e=>q(e)||V(e)?e:null,Kt=(e,t)=>e===!1||rt(e)&&e>0?e:t,ht=e=>_.isValidElement(e)||q(e)||V(e)||rt(e);function Zt(e,t,s=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${s}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,s)})})}function Jt({enter:e,exit:t,appendPosition:s=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:d,position:n,preventExitTransition:p,done:f,nodeRef:g,isIn:v,playToast:S}){let N=s?`${e}--${n}`:e,c=s?`${t}--${n}`:t,I=_.useRef(0);return _.useLayoutEffect(()=>{let k=g.current,b=N.split(" "),x=l=>{l.target===g.current&&(S(),k.removeEventListener("animationend",x),k.removeEventListener("animationcancel",x),I.current===0&&l.type!=="animationcancel"&&k.classList.remove(...b))};k.classList.add(...b),k.addEventListener("animationend",x),k.addEventListener("animationcancel",x)},[]),_.useEffect(()=>{let k=g.current,b=()=>{k.removeEventListener("animationend",b),r?Zt(k,f,i):f()};v||(p?b():(I.current=1,k.className+=` ${c}`,k.addEventListener("animationend",b)))},[v]),E.createElement(E.Fragment,null,d)}}function Pt(e,t){return{content:wt(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function wt(e,t,s=!1){return _.isValidElement(e)&&!q(e.type)?_.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:s}):V(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:s}):e}function te({closeToast:e,theme:t,ariaLabel:s="close"}){return E.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":s},E.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},E.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function ee({delay:e,isRunning:t,closeToast:s,type:r="default",hide:i,className:d,controlledProgress:n,progress:p,rtl:f,isIn:g,theme:v}){let S=i||n&&p===0,N={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};n&&(N.transform=`scaleX(${p})`);let c=G("Toastify__progress-bar",n?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),I=V(d)?d({rtl:f,type:r,defaultClassName:c}):G(c,d),k={[n&&p>=1?"onTransitionEnd":"onAnimationEnd"]:n&&p<1?null:()=>{g&&s()}};return E.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":S},E.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${r}`}),E.createElement("div",{role:"progressbar","aria-hidden":S?"true":"false","aria-label":"notification timer",className:I,style:N,...k}))}var ae=1,Et=()=>`${ae++}`;function oe(e,t,s){let r=1,i=0,d=[],n=[],p=t,f=new Map,g=new Set,v=l=>(g.add(l),()=>g.delete(l)),S=()=>{n=Array.from(f.values()),g.forEach(l=>l())},N=({containerId:l,toastId:o,updateId:u})=>{let m=l?l!==e:e!==1,A=f.has(o)&&u==null;return m||A},c=(l,o)=>{f.forEach(u=>{var m;(o==null||o===u.props.toastId)&&((m=u.toggle)==null||m.call(u,l))})},I=l=>{var o,u;(u=(o=l.props)==null?void 0:o.onClose)==null||u.call(o,l.removalReason),l.isActive=!1},k=l=>{if(l==null)f.forEach(I);else{let o=f.get(l);o&&I(o)}S()},b=()=>{i-=d.length,d=[]},x=l=>{var o,u;let{toastId:m,updateId:A}=l.props,h=A==null;l.staleId&&f.delete(l.staleId),l.isActive=!0,f.set(m,l),S(),s(Pt(l,h?"added":"updated")),h&&((u=(o=l.props).onOpen)==null||u.call(o))};return{id:e,props:p,observe:v,toggle:c,removeToast:k,toasts:f,clearQueue:b,buildToast:(l,o)=>{if(N(o))return;let{toastId:u,updateId:m,data:A,staleId:h,delay:T}=o,$=m==null;$&&i++;let B={...p,style:p.toastStyle,key:r++,...Object.fromEntries(Object.entries(o).filter(([F,X])=>X!=null)),toastId:u,updateId:m,data:A,isIn:!1,className:gt(o.className||p.toastClassName),progressClassName:gt(o.progressClassName||p.progressClassName),autoClose:o.isLoading?!1:Kt(o.autoClose,p.autoClose),closeToast(F){f.get(u).removalReason=F,k(u)},deleteToast(){let F=f.get(u);if(F!=null){if(s(Pt(F,"removed")),f.delete(u),i--,i<0&&(i=0),d.length>0){x(d.shift());return}S()}}};B.closeButton=p.closeButton,o.closeButton===!1||ht(o.closeButton)?B.closeButton=o.closeButton:o.closeButton===!0&&(B.closeButton=ht(p.closeButton)?p.closeButton:!0);let z={content:l,props:B,staleId:h};p.limit&&p.limit>0&&i>p.limit&&$?d.push(z):rt(T)?setTimeout(()=>{x(z)},T):x(z)},setProps(l){p=l},setToggle:(l,o)=>{let u=f.get(l);u&&(u.toggle=o)},isToastActive:l=>{var o;return(o=f.get(l))==null?void 0:o.isActive},getSnapshot:()=>n}}var L=new Map,st=[],_t=new Set,se=e=>_t.forEach(t=>t(e)),Nt=()=>L.size>0;function re(){st.forEach(e=>It(e.content,e.options)),st=[]}var ne=(e,{containerId:t})=>{var s;return(s=L.get(t||1))==null?void 0:s.toasts.get(e)};function St(e,t){var s;if(t)return!!((s=L.get(t))!=null&&s.isToastActive(e));let r=!1;return L.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function ie(e){if(!Nt()){st=st.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||Yt(e))L.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=L.get(e.containerId);t?t.removeToast(e.id):L.forEach(s=>{s.removeToast(e.id)})}}var le=(e={})=>{L.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function It(e,t){ht(e)&&(Nt()||st.push({content:e,options:t}),L.forEach(s=>{s.buildToast(e,t)}))}function ce(e){var t;(t=L.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function At(e,t){L.forEach(s=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===s.id)&&s.toggle(e,t==null?void 0:t.id)})}function de(e){let t=e.containerId||1;return{subscribe(s){let r=oe(t,e,se);L.set(t,r);let i=r.observe(s);return re(),()=>{i(),L.delete(t)}},setProps(s){var r;(r=L.get(t))==null||r.setProps(s)},getSnapshot(){var s;return(s=L.get(t))==null?void 0:s.getSnapshot()}}}function fe(e){return _t.add(e),()=>{_t.delete(e)}}function ue(e){return e&&(q(e.toastId)||rt(e.toastId))?e.toastId:Et()}function nt(e,t){return It(e,t),t.toastId}function ct(e,t){return{...t,type:t&&t.type||e,toastId:ue(t)}}function dt(e){return(t,s)=>nt(t,ct(e,s))}function y(e,t){return nt(e,ct("default",t))}y.loading=(e,t)=>nt(e,ct("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function pe(e,{pending:t,error:s,success:r},i){let d;t&&(d=q(t)?y.loading(t,i):y.loading(t.render,{...i,...t}));let n={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},p=(g,v,S)=>{if(v==null){y.dismiss(d);return}let N={type:g,...n,...i,data:S},c=q(v)?{render:v}:v;return d?y.update(d,{...N,...c}):y(c.render,{...N,...c}),S},f=V(e)?e():e;return f.then(g=>p("success",r,g)).catch(g=>p("error",s,g)),f}y.promise=pe;y.success=dt("success");y.info=dt("info");y.error=dt("error");y.warning=dt("warning");y.warn=y.warning;y.dark=(e,t)=>nt(e,ct("default",{theme:"dark",...t}));function me(e){ie(e)}y.dismiss=me;y.clearWaitingQueue=le;y.isActive=St;y.update=(e,t={})=>{let s=ne(e,t);if(s){let{props:r,content:i}=s,d={delay:100,...r,...t,toastId:t.toastId||e,updateId:Et()};d.toastId!==e&&(d.staleId=e);let n=d.render||i;delete d.render,nt(n,d)}};y.done=e=>{y.update(e,{progress:1})};y.onChange=fe;y.play=e=>At(!0,e);y.pause=e=>At(!1,e);function ye(e){var t;let{subscribe:s,getSnapshot:r,setProps:i}=_.useRef(de(e)).current;i(e);let d=(t=_.useSyncExternalStore(s,r,r))==null?void 0:t.slice();function n(p){if(!d)return[];let f=new Map;return e.newestOnTop&&d.reverse(),d.forEach(g=>{let{position:v}=g.props;f.has(v)||f.set(v,[]),f.get(v).push(g)}),Array.from(f,g=>p(g[0],g[1]))}return{getToastToRender:n,isToastActive:St,count:d==null?void 0:d.length}}function ge(e){let[t,s]=_.useState(!1),[r,i]=_.useState(!1),d=_.useRef(null),n=_.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:p,pauseOnHover:f,closeToast:g,onClick:v,closeOnClick:S}=e;ce({id:e.toastId,containerId:e.containerId,fn:s}),_.useEffect(()=>{if(e.pauseOnFocusLoss)return N(),()=>{c()}},[e.pauseOnFocusLoss]);function N(){document.hasFocus()||x(),window.addEventListener("focus",b),window.addEventListener("blur",x)}function c(){window.removeEventListener("focus",b),window.removeEventListener("blur",x)}function I(h){if(e.draggable===!0||e.draggable===h.pointerType){l();let T=d.current;n.canCloseOnClick=!0,n.canDrag=!0,T.style.transition="none",e.draggableDirection==="x"?(n.start=h.clientX,n.removalDistance=T.offsetWidth*(e.draggablePercent/100)):(n.start=h.clientY,n.removalDistance=T.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function k(h){let{top:T,bottom:$,left:B,right:z}=d.current.getBoundingClientRect();h.nativeEvent.type!=="touchend"&&e.pauseOnHover&&h.clientX>=B&&h.clientX<=z&&h.clientY>=T&&h.clientY<=$?x():b()}function b(){s(!0)}function x(){s(!1)}function l(){n.didMove=!1,document.addEventListener("pointermove",u),document.addEventListener("pointerup",m)}function o(){document.removeEventListener("pointermove",u),document.removeEventListener("pointerup",m)}function u(h){let T=d.current;if(n.canDrag&&T){n.didMove=!0,t&&x(),e.draggableDirection==="x"?n.delta=h.clientX-n.start:n.delta=h.clientY-n.start,n.start!==h.clientX&&(n.canCloseOnClick=!1);let $=e.draggableDirection==="x"?`${n.delta}px, var(--y)`:`0, calc(${n.delta}px + var(--y))`;T.style.transform=`translate3d(${$},0)`,T.style.opacity=`${1-Math.abs(n.delta/n.removalDistance)}`}}function m(){o();let h=d.current;if(n.canDrag&&n.didMove&&h){if(n.canDrag=!1,Math.abs(n.delta)>n.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}h.style.transition="transform 0.2s, opacity 0.2s",h.style.removeProperty("transform"),h.style.removeProperty("opacity")}}let A={onPointerDown:I,onPointerUp:k};return p&&f&&(A.onMouseEnter=x,e.stacked||(A.onMouseLeave=b)),S&&(A.onClick=h=>{v&&v(h),n.canCloseOnClick&&g(!0)}),{playToast:b,pauseToast:x,isRunning:t,preventExitTransition:r,toastRef:d,eventHandlers:A}}var he=typeof window<"u"?_.useLayoutEffect:_.useEffect,ft=({theme:e,type:t,isLoading:s,...r})=>E.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function _e(e){return E.createElement(ft,{...e},E.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function be(e){return E.createElement(ft,{...e},E.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function xe(e){return E.createElement(ft,{...e},E.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ve(e){return E.createElement(ft,{...e},E.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Te(){return E.createElement("div",{className:"Toastify__spinner"})}var bt={info:be,warning:_e,success:xe,error:ve,spinner:Te},Ce=e=>e in bt;function ke({theme:e,type:t,isLoading:s,icon:r}){let i=null,d={theme:e,type:t};return r===!1||(V(r)?i=r({...d,isLoading:s}):_.isValidElement(r)?i=_.cloneElement(r,d):s?i=bt.spinner():Ce(t)&&(i=bt[t](d))),i}var Pe=e=>{let{isRunning:t,preventExitTransition:s,toastRef:r,eventHandlers:i,playToast:d}=ge(e),{closeButton:n,children:p,autoClose:f,onClick:g,type:v,hideProgressBar:S,closeToast:N,transition:c,position:I,className:k,style:b,progressClassName:x,updateId:l,role:o,progress:u,rtl:m,toastId:A,deleteToast:h,isIn:T,isLoading:$,closeOnClick:B,theme:z,ariaLabel:F}=e,X=G("Toastify__toast",`Toastify__toast-theme--${z}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":m},{"Toastify__toast--close-on-click":B}),it=V(k)?k({rtl:m,position:I,type:v,defaultClassName:X}):G(X,k),Y=ke(e),K=!!u||!f,Q={closeToast:N,type:v,theme:z},U=null;return n===!1||(V(n)?U=n(Q):_.isValidElement(n)?U=_.cloneElement(n,Q):U=te(Q)),E.createElement(c,{isIn:T,done:h,position:I,preventExitTransition:s,nodeRef:r,playToast:d},E.createElement("div",{id:A,tabIndex:0,onClick:g,"data-in":T,className:it,...i,style:b,ref:r,...T&&{role:o,"aria-label":F}},Y!=null&&E.createElement("div",{className:G("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!$})},Y),wt(p,e,!t),U,!e.customProgressBar&&E.createElement(ee,{...l&&!K?{key:`p-${l}`}:{},rtl:m,theme:z,delay:f,isRunning:t,isIn:T,closeToast:N,hide:S,type:v,className:x,controlledProgress:K,progress:u||0})))},je=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),we=Jt(je("bounce",!0)),Ee={position:"top-right",transition:we,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function Ne(e){let t={...Ee,...e},s=e.stacked,[r,i]=_.useState(!0),d=_.useRef(null),{getToastToRender:n,isToastActive:p,count:f}=ye(t),{className:g,style:v,rtl:S,containerId:N,hotKeys:c}=t;function I(b){let x=G("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":S});return V(g)?g({position:b,rtl:S,defaultClassName:x}):G(x,gt(g))}function k(){s&&(i(!0),y.play())}return he(()=>{var b;if(s){let x=d.current.querySelectorAll('[data-in="true"]'),l=12,o=(b=t.position)==null?void 0:b.includes("top"),u=0,m=0;Array.from(x).reverse().forEach((A,h)=>{let T=A;T.classList.add("Toastify__toast--stacked"),h>0&&(T.dataset.collapsed=`${r}`),T.dataset.pos||(T.dataset.pos=o?"top":"bot");let $=u*(r?.2:1)+(r?0:l*h);T.style.setProperty("--y",`${o?$:$*-1}px`),T.style.setProperty("--g",`${l}`),T.style.setProperty("--s",`${1-(r?m:0)}`),u+=T.offsetHeight,m+=.025})}},[r,f,s]),_.useEffect(()=>{function b(x){var l;let o=d.current;c(x)&&((l=o.querySelector('[tabIndex="0"]'))==null||l.focus(),i(!1),y.pause()),x.key==="Escape"&&(document.activeElement===o||o!=null&&o.contains(document.activeElement))&&(i(!0),y.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[c]),E.createElement("section",{ref:d,className:"Toastify",id:N,onMouseEnter:()=>{s&&(i(!1),y.pause())},onMouseLeave:k,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},n((b,x)=>{let l=x.length?{...v}:{...v,pointerEvents:"none"};return E.createElement("div",{tabIndex:-1,className:I(b),"data-stacked":s,style:l,key:`c-${b}`},x.map(({content:o,props:u})=>E.createElement(Pe,{...u,stacked:s,collapseAll:k,isIn:p(u.toastId,u.containerId),key:`t-${u.key}`},o)))}))}const Qe=()=>{var z,F,X,it,Y,K,Q,U,xt,vt,Tt;const{id:e}=Dt(),[t,s]=_.useState({}),[r,i]=_.useState({}),[d,n]=_.useState(),[p,f]=_.useState(""),[g,v]=_.useState(!1),[S,N]=_.useState(!1),{address:c}=t||{};_.useEffect(()=>{if(p){const P=setTimeout(()=>{f("")},3e3);return()=>clearTimeout(P)}},[p]),_.useEffect(()=>{(async()=>{n(!0),f("");try{const{data:j}=await lt.get(`${$t}/${e}`);if(s(j),j!=null&&j.user_id){const{data:w}=await lt.get(`${Ot}?id=${j.user_id}`);i(w)}}catch(j){f(Rt(j))}finally{n(!1)}})()},[e]);const I=(z=t==null?void 0:t.order_products)==null?void 0:z.reduce((P,j)=>P+(Number(j.quantity)*Number(j.price)||0),0),b=I*.1,x=I+b,l=t==null?void 0:t.courier_tracking_id;_.useEffect(()=>{var P;if(((P=t==null?void 0:t.order_products)==null?void 0:P.length)>0){const j=t.order_products[0],w=j.brand||{};u(M=>({...M,PickupAddress:w.pickup_address||"",PickupCity:w.pickup_city||"",PickupEmail:w.contact_email||"",PickupName:w.brand_name||"",PickupPincode:w.pickup_pincode||"",PickupState:w.pickup_state||"",PickupPhone:w.contact_phone||"",PickupVendorCode:w.pickup_vendor_code||"",HSNCode:j.hsn_code||"",ProductDesc:j.name||"",SellerPincode:w.pickup_pincode||"",SellerName:w.brand_name||""}))}},[t]);const[o,u]=_.useState({PickupAddress:"",PickupCity:"",PickupEmail:"",PickupName:"",PickupPincode:"",PickupState:"",PickupPhone:"",PickupVendorCode:"",BuyerGSTRegNumber:"",SellerPincode:"",SellerName:"",ProductCategory:"",ProductDesc:"",HSNCode:""}),m=P=>{const{name:j,value:w}=P.target;u(M=>({...M,[j]:w}))},A={Address:(F=t==null?void 0:t.address)==null?void 0:F.street_address,City:(X=t==null?void 0:t.address)==null?void 0:X.city,EmailID:r.email,Name:(it=t==null?void 0:t.address)==null?void 0:it.full_name,PinCode:(Y=t==null?void 0:t.address)==null?void 0:Y.zip_code,State:(K=t==null?void 0:t.address)==null?void 0:K.state,Type:"Primary",Phone:(Q=t==null?void 0:t.address)==null?void 0:Q.phone};console.log(A);const h=async()=>{var M,D,W,Z,J,H;const P={Address:(M=t==null?void 0:t.address)==null?void 0:M.street_address,City:(D=t==null?void 0:t.address)==null?void 0:D.city,EmailID:r.email,Name:(W=t==null?void 0:t.address)==null?void 0:W.full_name,PinCode:(Z=t==null?void 0:t.address)==null?void 0:Z.zip_code,State:(J=t==null?void 0:t.address)==null?void 0:J.state,Type:"Primary"};console.log(P);const j={PhoneNo:(H=t==null?void 0:t.address)==null?void 0:H.phone,Type:"Primary",VirtualNumber:null},w={AirWayBillNO:t==null?void 0:t.courier_tracking_id,BusinessAccountName:"BRANDMARATHA",OrderNo:t==null?void 0:t.id,SubOrderNo:t==null?void 0:t.id,OrderType:"PrePaid",CollectibleAmount:"0",DeclaredValue:t.total_price,PickupType:"Vendor",Quantity:"1",ServiceType:"SD",DropDetails:{Addresses:[P],ContactDetails:[j]},PickupDetails:{Addresses:[{Address:o.PickupAddress,City:o.PickupCity,EmailID:o.PickupEmail,Name:o.PickupName,PinCode:o.PickupPincode,State:o.PickupState,Type:"Primary"}],ContactDetails:[{PhoneNo:o.PickupPhone,Type:"Primary"}],PickupVendorCode:o.PickupVendorCode},RTODetails:{Addresses:[{Address:o.PickupAddress,City:o.PickupCity,EmailID:o.PickupEmail,Name:o.PickupName,PinCode:o.PickupPincode,State:o.PickupState,Type:"Primary"}],ContactDetails:[{PhoneNo:o.PickupPhone,Type:"Primary"}]},GSTMultiSellerInfo:[{SellerAddress:o.PickupAddress,SellerGSTRegNumber:o.BuyerGSTRegNumber,SellerName:o.SellerName,SellerPincode:o.SellerPincode,HSNDetails:[{ProductCategory:o.ProductCategory,ProductDesc:o.ProductDesc,HSNCode:o.HSNCode}]}]};console.log("Shipment Payload",w);try{const Ct=(await lt.post("/shipment/create-shipment",w,{headers:{"Content-Type":"application/json"}})).data;Ct.ReturnCode===100?(y.success("Shipment Created"),N(!1)):y.error(Ct.message||"Failed to create shipment")}catch(tt){console.error(tt),y.error("Server error")}},T=()=>{var Z,J;if(!t||!t.id){alert("Invoice cannot be generated. Order data is missing.");return}const P=(Z=t==null?void 0:t.order_products)==null?void 0:Z.reduce((H,tt)=>H+(Number(tt.quantity)*Number(tt.total_price)||0),0),w=P*.1,M=P+w,D=`
      <html>
      <head>
        <style>
          body { font-family: Arial, sans-serif; padding: 20px; background: #f9f9f9; }
          .invoice-container { max-width: 800px; margin: auto; padding: 20px; border: 1px solid #ddd; background: white; }
          .header { display: flex; justify-content: space-between; align-items: center; background: #003366; color: white; padding: 10px; }
          .invoice-title { font-size: 24px; font-weight: bold; }
          .details-table, .products-table { width: 100%; border-collapse: collapse; margin-top: 20px; }
          .details-table td, .products-table th, .products-table td { border: 1px solid #ddd; padding: 8px; text-align: left; vertical-align: top; }
          .products-table th { background: #003366; color: white; }
          .total-section { margin-top: 20px; padding: 10px; background: #f1f1f1; border: 1px solid #ddd; }
          .total-row { display: flex; justify-content: space-between; padding: 8px 0; font-size: 16px; }
          .grand-total { font-size: 20px; font-weight: bold; color: #003366; }
          .footer { margin-top: 20px; text-align: center; font-size: 12px; color: #555; }
        </style>
      </head>
      <body>
        <div class="invoice-container">
          <div class="header">
            <div>
              <h2 class="invoice-title">INVOICE</h2>
              <p><strong>Invoice Date:</strong> ${new Date(t.created_at).toLocaleDateString()}</p>
              <p><strong>Invoice No:</strong> ${t.id}</p>
            </div>
            <div>
              <p><strong>BRAND MARATHA</strong></p>
              <p>Email: contact@yourcompany.com</p>
            </div>
          </div>
          
          <h3>Customer & Order Details</h3>
          <table class="details-table">
            <tr><td><strong>Name</strong></td><td>${r.name}</td></tr>
            <tr><td><strong>E-Mail</strong></td><td>${r.email}</td></tr>
            <tr><td><strong>Courier:</strong></td><td>${t.courier} - ${t.courier_description}</td></tr>
            <tr><td><strong>Status:</strong></td><td>${t.status.toUpperCase()}</td></tr>
          </table>
  
          <h3>Shipping Address</h3>
          <table class="details-table">
            <tr><td><strong>Name:</strong></td><td>${(c==null?void 0:c.full_name)||"N/A"}</td></tr>
            <tr><td><strong>Phone:</strong></td><td>${c.phone||"N/A"}</td></tr>
            <tr>
              <td><strong>Shipping Address:</strong></td>
              <td>
                ${c.street_address||"N/A"},<br>
                ${c.city||"N/A"}, ${c.state||"N/A"},<br>
                ${c.country||"N/A"} - ${c.zip_code||"N/A"}
              </td>
            </tr>
          </table>
  
          <h3>Ordered Products</h3>
          <table class="products-table">
            <tr>
              <th>Product ID</th>
              <th>Quantity</th>
              <th>Size</th>
              <th>Color</th>
              <th>Total Price</th>
            </tr>
            ${((J=t==null?void 0:t.order_products)==null?void 0:J.length)>0?t.order_products.map(H=>`
                    <tr>
                      <td>${H.product_id}</td>
                      <td>${H.quantity}</td>
                      <td>${H.size||"N/A"}</td>
                      <td>${H.color||"N/A"}</td>
                      <td>Rs. ${Number(H.total_price||0).toFixed(2)}</td>
                    </tr>
                  `).join(""):'<tr><td colspan="6">No products found</td></tr>'}
          </table>
          
          <div class="total-section">
            <div class="total-row">
              <span><strong>Subtotal:</strong></span>
              <span>Rs. ${Number(P||0).toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span><strong>Tax (10%):</strong></span>
              <span>Rs. ${Number(w||0).toFixed(2)}</span>
            </div>
            <div class="total-row grand-total">
              <span><strong>Grand Total:</strong></span>
              <span>Rs. ${Number(M||0).toFixed(2)}</span>
            </div>
          </div>
  
          <div class="footer">Thank you for your business!</div>
        </div>
        <script>window.print();<\/script>
      </body>
      </html>
    `,W=window.open("","_blank");W?(W.document.write(D),W.document.close()):alert("Popup blocked! Please allow popups and try again.")};if(d)return a.jsx(Lt,{color:"primary"});if(p)return a.jsx(zt,{color:"danger",children:p});const $=async(P,j)=>{try{return await lt.post("/shipment/cancel-shipment",{ShippingID:P,CancellationReason:j},{headers:{"Content-Type":"application/json"}})}catch(w){return console.error("Cancel shipment error:",w),null}},B=async()=>{var w,M;const P=l,j=prompt("Enter cancellation reason:");if(!j){alert("Cancellation reason is required.");return}v(!0);try{const D=await $(P,j);((w=D==null?void 0:D.data)==null?void 0:w.ReturnCode)===100?y.success("Shipment canceled successfully."):y.error("Cancellation failed: "+((M=D==null?void 0:D.data)==null?void 0:M.ReturnMessage))}catch(D){y.error((D==null?void 0:D.message)||"Something went wrong!")}finally{v(!1)}};return a.jsx(a.Fragment,{children:a.jsx(ut,{children:a.jsxs(C,{xs:12,children:[a.jsx(Ne,{position:"top-right",autoClose:3e3}),a.jsxs(pt,{className:"mb-4",children:[a.jsxs(yt,{className:"d-flex justify-content-between align-items-center",children:[a.jsx("strong",{children:"Order Details"}),a.jsx(et,{color:"primary",onClick:T,children:"Invoice"}),a.jsx(et,{color:"primary",onClick:()=>N(!0),children:"Create Shipment"}),a.jsxs(Mt,{visible:S,onClose:()=>N(!1),size:"lg",children:[a.jsx(Bt,{children:a.jsx(Ht,{children:"Create Shipment"})}),a.jsx(Ft,{children:a.jsxs(Xt,{className:"row g-3",children:[a.jsxs(C,{md:12,children:[a.jsx(O,{children:"Pickup Address"}),a.jsx(R,{name:"PickupAddress",value:o.PickupAddress,onChange:m})]}),a.jsxs(C,{md:4,children:[a.jsx(O,{children:"City"}),a.jsx(R,{name:"PickupCity",value:o.PickupCity,onChange:m})]}),a.jsxs(C,{md:4,children:[a.jsx(O,{children:"State"}),a.jsx(R,{name:"PickupState",value:o.PickupState,onChange:m})]}),a.jsxs(C,{md:4,children:[a.jsx(O,{children:"Pincode"}),a.jsx(R,{name:"PickupPincode",value:o.PickupPincode,onChange:m})]}),a.jsxs(C,{md:6,children:[a.jsx(O,{children:"Contact Name"}),a.jsx(R,{name:"PickupName",value:o.PickupName,onChange:m})]}),a.jsxs(C,{md:6,children:[a.jsx(O,{children:"Contact Phone"}),a.jsx(R,{name:"PickupPhone",value:o.PickupPhone,onChange:m})]}),a.jsxs(C,{md:6,children:[a.jsx(O,{children:"Contact Email"}),a.jsx(R,{name:"PickupEmail",value:o.PickupEmail,onChange:m})]}),a.jsxs(C,{md:6,children:[a.jsx(O,{children:"Pickup Vendor Code"}),a.jsx(R,{name:"PickupVendorCode",value:o.PickupVendorCode,onChange:m})]}),a.jsxs(C,{md:6,children:[a.jsx(O,{children:"Seller GST."}),a.jsx(R,{name:"BuyerGSTRegNumber",value:o.BuyerGSTRegNumber,onChange:m})]}),a.jsxs(C,{md:6,children:[a.jsx(O,{children:"Seller Pincode"}),a.jsx(R,{name:"SellerPincode",value:o.SellerPincode,onChange:m})]}),a.jsxs(C,{md:4,children:[a.jsx(O,{children:"Product Category"}),a.jsx(R,{name:"ProductCategory",value:o.ProductCategory,onChange:m})]}),a.jsxs(C,{md:4,children:[a.jsx(O,{children:"Product Description"}),a.jsx(R,{name:"ProductDesc",value:o.ProductDesc,onChange:m})]}),a.jsxs(C,{md:4,children:[a.jsx(O,{children:"HSN Code"}),a.jsx(R,{name:"HSNCode",value:o.HSNCode,onChange:m})]})]})}),a.jsxs(Vt,{children:[a.jsx(et,{color:"secondary",onClick:()=>N(!1),children:"Cancel"}),a.jsx(et,{color:"primary",onClick:h,children:"Submit"})]})]}),a.jsx(et,{color:"primary",onClick:B,disabled:g,children:g?"Cancelling...":"Cancel Order"})]}),a.jsx(mt,{children:a.jsxs(ut,{children:[a.jsxs(C,{md:6,children:[a.jsx("strong",{children:"Order ID:"})," ",t.id]}),a.jsxs(C,{md:6,children:[a.jsx("strong",{children:"Name:"})," ",r.name]}),a.jsxs(C,{md:6,children:[a.jsx("strong",{children:"E-Mail:"})," ",r.email]}),a.jsxs(C,{md:6,children:[a.jsx("strong",{children:"Status:"}),a.jsx(Ut,{className:"ms-2",color:((U=t==null?void 0:t.status)==null?void 0:U.toLowerCase())==="pending"?"warning":((xt=t==null?void 0:t.status)==null?void 0:xt.toLowerCase())==="delivered"?"success":((vt=t==null?void 0:t.status)==null?void 0:vt.toLowerCase())==="cancelled"?"danger":"secondary",children:t==null?void 0:t.status})]}),a.jsxs(C,{md:6,children:[a.jsx("strong",{children:"Courier:"})," ",t.courier]}),a.jsxs(C,{md:6,children:[a.jsx("strong",{children:"Delivery:"})," ",t.courier_description]}),a.jsxs(C,{md:6,children:[a.jsx("strong",{children:"Ordered On:"})," ",new Date(t.created_at).toLocaleString()]})]})})]}),a.jsxs(pt,{className:"mt-4",children:[a.jsx(yt,{children:a.jsx("strong",{children:"Shipping Address"})}),a.jsx(mt,{children:a.jsxs(ut,{children:[a.jsxs(C,{md:6,children:[a.jsx("strong",{children:"Full Name:"})," ",c==null?void 0:c.full_name]}),a.jsxs(C,{md:6,children:[a.jsx("strong",{children:"Phone:"})," ",c==null?void 0:c.phone]}),a.jsxs(C,{md:12,children:[a.jsx("strong",{children:"Street Address:"})," ",c==null?void 0:c.street_address]}),a.jsxs(C,{md:6,children:[a.jsx("strong",{children:"City:"})," ",c==null?void 0:c.city]}),a.jsxs(C,{md:6,children:[a.jsx("strong",{children:"State:"})," ",c==null?void 0:c.state]}),a.jsxs(C,{md:6,children:[a.jsx("strong",{children:"Zip Code:"})," ",c==null?void 0:c.zip_code]}),a.jsxs(C,{md:6,children:[a.jsx("strong",{children:"Country:"})," ",c==null?void 0:c.country]})]})})]}),a.jsxs(pt,{className:"mt-4",children:[a.jsx(yt,{children:a.jsx("strong",{children:"Ordered Products"})}),a.jsxs(mt,{children:[a.jsxs(Gt,{hover:!0,responsive:!0,children:[a.jsx(qt,{children:a.jsxs(kt,{children:[a.jsx(at,{children:"Product ID"}),a.jsx(at,{children:"Quantity"}),a.jsx(at,{children:"Size"}),a.jsx(at,{children:"Color"}),a.jsx(at,{children:"Total Price"})]})}),a.jsx(Qt,{children:(Tt=t==null?void 0:t.order_products)==null?void 0:Tt.map((P,j)=>a.jsxs(kt,{children:[a.jsx(ot,{children:P.product_id}),a.jsx(ot,{children:P.quantity}),a.jsx(ot,{children:P.size||"N/A"}),a.jsx(ot,{children:P.color||"N/A"}),a.jsxs(ot,{children:["Rs. ",Number(P.price||0).toFixed(2)]})]},j))})]}),a.jsxs("div",{className:"mt-4 p-3 bg-light",children:[a.jsxs("div",{className:"d-flex justify-content-between py-2",children:[a.jsx("span",{children:a.jsx("strong",{children:"Subtotal:"})}),a.jsxs("span",{children:["Rs. ",Number(I||0).toFixed(2)]})]}),a.jsxs("div",{className:"d-flex justify-content-between py-2",children:[a.jsx("span",{children:a.jsx("strong",{children:"Tax (10%):"})}),a.jsxs("span",{children:["Rs. ",Number(b||0).toFixed(2)]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"d-flex justify-content-between py-2 grand-total",children:[a.jsx("span",{className:"text-primary fw-bold fs-5",children:"Grand Total:"}),a.jsxs("span",{className:"text-primary fw-bold fs-5",children:["Rs. ",Number(x||0).toFixed(2)]})]})]})]})]})]})})})};export{Qe as default};
