import{a as r,j as e}from"./index-f6D6TMGS.js";import{f as v,g as B,h as S,i as b,j as w,k as N}from"./api.endpoints-D7eIfK11.js";import{E as P}from"./Editer-DlJNIPt6.js";import{a as g}from"./axios.config-D8NC-S8h.js";import{h as x}from"./errorHelper-EbapN-iz.js";import{C as A,a as f}from"./CRow-C5aZ3uce.js";import{C as H,a as R}from"./CCardBody-DyHbCEEC.js";import{C as T}from"./CCardHeader-BkEnHaV2.js";import{C as V}from"./CFormSelect-BM6fWH_8.js";import{C as j}from"./CAlert-Ceafrkex.js";import"./index-BvccmHzl.js";import"./CButton-ByJ5g7iZ.js";import"./index.esm-B7prAHhm.js";import"./CFormControlWrapper-aXjT4m4y.js";import"./DefaultLayout-BE9qYLzL.js";import"./cil-user-Ddrdy7PS.js";const Y=()=>{const[n,p]=r.useState(""),[c,C]=r.useState("english"),[s,d]=r.useState(null),[o,m]=r.useState(""),[u,y]=r.useState(null),[l,h]=r.useState("");r.useEffect(()=>{y({getBanner:c==="english"?w:N,postBanner:c==="english"?S:b,putBanner:c==="english"?v:B})},[c]),r.useEffect(()=>{if(o||l){const a=setTimeout(()=>{m(""),h("")},3e3);return()=>clearTimeout(a)}},[o,l]);const _=async()=>{var a,t;try{let i;s!=null&&s.id?i=await g.put(u.putBanner,{description:n},{params:{id:s.id}}):i=await g.post(u.postBanner,{description:n}),m((a=i.data)==null?void 0:a.message),d({...s,description:n,id:((t=i.data)==null?void 0:t.id)||(s==null?void 0:s.id)})}catch(i){h(x(i))}},E=async()=>{var a;try{const t=await g.get(u.getBanner);t.status===200&&(d(t.data),p(((a=t.data)==null?void 0:a.description)||""),m(t.data.message))}catch(t){h(x(t))}};return e.jsx(A,{children:e.jsx(f,{xs:12,children:e.jsxs(H,{className:"mb-4",children:[e.jsx(T,{children:e.jsx("strong",{children:"Editer"})}),e.jsxs(R,{children:[e.jsx(f,{xs:12,md:4,lg:2,className:"mb-4",children:e.jsxs(V,{xs:4,"aria-label":"Default select example",defaultValue:"english",onChange:a=>{C(a.target.value),p(""),d(null)},children:[e.jsx("option",{value:"english",children:"English"}),e.jsx("option",{value:"marathi",children:"मराठी"})]})}),e.jsxs("div",{className:"mt-4",children:[o&&e.jsx(j,{color:"success",children:o}),l&&e.jsx(j,{color:"danger",children:l})]}),e.jsx(P,{policy:n,handlePolicy:_,viewPolicyHandler:E,viewPolicy:s,message:o,setPolicy:p})]})]})})})};export{Y as default};
