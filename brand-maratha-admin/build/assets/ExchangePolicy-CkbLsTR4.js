import{a as n,j as e}from"./index-f6D6TMGS.js";import{aX as B,aY as S,aZ as b,a_ as w,a$ as N,b0 as P}from"./api.endpoints-D7eIfK11.js";import{E as $}from"./Editer-DlJNIPt6.js";import{a as g}from"./axios.config-D8NC-S8h.js";import{h as x}from"./errorHelper-EbapN-iz.js";import{C as v,a as f}from"./CRow-C5aZ3uce.js";import{C as A,a as H}from"./CCardBody-DyHbCEEC.js";import{C as R}from"./CCardHeader-BkEnHaV2.js";import{C as T}from"./CFormSelect-BM6fWH_8.js";import{C}from"./CAlert-Ceafrkex.js";import"./index-BvccmHzl.js";import"./CButton-ByJ5g7iZ.js";import"./index.esm-B7prAHhm.js";import"./CFormControlWrapper-aXjT4m4y.js";import"./DefaultLayout-BE9qYLzL.js";import"./cil-user-Ddrdy7PS.js";const Q=()=>{const[o,d]=n.useState(""),[c,j]=n.useState("english"),[a,p]=n.useState(null),[i,l]=n.useState(""),[m,h]=n.useState(""),[u,_]=n.useState(null);n.useEffect(()=>{_({getBanner:c==="english"?N:P,postBanner:c==="english"?b:w,putBanner:c==="english"?B:S})},[c]),n.useEffect(()=>{if(i||m){const t=setTimeout(()=>{l(""),h("")},3e3);return()=>clearTimeout(t)}},[i,m]);const E=async()=>{var t,s;try{let r;a!=null&&a.id?(r=await g.put(`${u.putBanner}/${a.id}`,{content:o}),l("Policy updated successfully")):(r=await g.post(u.postBanner,{content:o}),l((t=r==null?void 0:r.data)==null?void 0:t.message)),p({...a,content:o,id:((s=r.data)==null?void 0:s.id)||(a==null?void 0:a.id)})}catch(r){h(x(r))}},y=async()=>{var t;try{const s=await g.get(u.getBanner);s.status===200&&(p(s.data),d(((t=s.data)==null?void 0:t.content)||""),l(s.data.message))}catch(s){h(x(s))}};return e.jsx(v,{children:e.jsx(f,{xs:12,children:e.jsxs(A,{className:"mb-4",children:[e.jsx(R,{children:e.jsx("strong",{children:"Editer"})}),e.jsxs(H,{children:[e.jsx(f,{xs:12,md:4,lg:2,className:"mb-4",children:e.jsxs(T,{xs:4,"aria-label":"Default select example",defaultValue:"english",onChange:t=>{j(t.target.value),d(""),p(null)},children:[e.jsx("option",{value:"english",children:"English"}),e.jsx("option",{value:"marathi",children:"मराठी"})]})}),e.jsxs("div",{className:"mt-4",children:[i&&e.jsx(C,{color:"success",children:i}),m&&e.jsx(C,{color:"danger",children:m})]}),e.jsx($,{policy:o,handlePolicy:E,viewPolicyHandler:y,viewPolicy:a,message:i,setPolicy:d})]})]})})})};export{Q as default};
